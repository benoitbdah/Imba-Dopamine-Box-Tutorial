{"id":"cr","warnings":[],"errors":[],"js":"// @ts-ignore\nfunction isa$(a,b){ return typeof b === \"string\" ? (typeof a === b) : b[Symbol.hasInstance]?.(a) }\nimport {register$} from 'imba/runtime';\n\n/*body*/\n// imba$stdlib=1\nlet c$0 = Symbol();\nexport const navigator = new class {\n\tget iosÎ¦(){\n\t\tlet nav = globalThis.navigator.platform || '';\n\t\tif (nav.match(/iPhone|iPod|iPad/)) { return true };\n\t\tif (nav == 'MacIntel' && globalThis.navigator.maxTouchPoints > 2) { return true };\n\t\treturn false;\n\t}\n\tstatic { register$(this,c$0,null,0) }\n};\n\nexport function toElement(sel,source){\n\tlet el = source;\n\t\n\tif (isa$(sel,Element)) {\n\t\treturn sel;\n\t};\n\t\n\tif (typeof sel == 'string') {\n\t\tif (sel == 'this' || sel == '') {\n\t\t\treturn el;\n\t\t} else if (sel == 'up') {\n\t\t\treturn el.parentNode;\n\t\t} else if (sel == 'op') {\n\t\t\treturn el.offsetParent;\n\t\t} else {\n\t\t\treturn el.closest(sel) || el.querySelector(sel) || globalThis.document.querySelector(sel);\n\t\t};\n\t};\n\t\n\treturn null;\n};\n\nexport function parseDimension(val){\n\tif (typeof val == 'string') {\n\t\tlet [m,num,unit] = val.match(/^([-+]?[\\d\\.]+)(%|\\w+)$/);\n\t\treturn [parseFloat(num),unit];\n\t} else if (typeof val == 'number') {\n\t\treturn [val];\n\t};\n};\n\nexport function round(val,step = 1){\n\tlet inv = 1.0 / step;\n\treturn Math.round(val * inv) / inv;\n};\n\nexport function clamp(val,min,max){\n\tif (min > max) {\n\t\treturn Math.max(max,Math.min(min,val));\n\t} else {\n\t\treturn Math.min(max,Math.max(min,val));\n\t};\n};\n\nexport function createScale(a0,a1,b0r,b1r,s = 0.1){\n\tlet [b0,b0u] = parseDimension(b0r);\n\tlet [b1,b1u] = parseDimension(b1r);\n\tlet [sv,su] = parseDimension(s);\n\t\n\tif (b0u == '%') { b0 = (a1 - a0) * (b0 / 100) };\n\tif (b1u == '%') { b1 = (a1 - a0) * (b1 / 100) };\n\t\n\tif (su == '%') { sv = (b1 - b0) * (sv / 100) };\n\t\n\treturn function(value,fit) {\n\t\tlet pct = (value - a0) / (a1 - a0);\n\t\tlet val = b0 + (b1 - b0) * pct;\n\t\tif (s) { val = round(val,sv) };\n\t\tif (fit) { val = clamp(val,b0,b1) };\n\t\treturn val;\n\t};\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscGVycy5pbWJhIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaGVscGVycy5pbWJhIl0sInNvdXJjZXNDb250ZW50IjpbIiMgaW1iYSRzdGRsaWI9MVxuZXhwb3J0IGNvbnN0IG5hdmlnYXRvciA9IG5ldyBjbGFzc1xuXG5cdGdldCBpb3M/XG5cdFx0bGV0IG5hdiA9IGdsb2JhbC5uYXZpZ2F0b3IucGxhdGZvcm0gb3IgJydcblx0XHRyZXR1cm4gdHJ1ZSBpZiBuYXYubWF0Y2goL2lQaG9uZXxpUG9kfGlQYWQvKVxuXHRcdHJldHVybiB0cnVlIGlmIG5hdiA9PSAnTWFjSW50ZWwnIGFuZCBnbG9iYWwubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMlxuXHRcdHJldHVybiBmYWxzZVxuXG5leHBvcnQgZGVmIHRvRWxlbWVudCBzZWwsIHNvdXJjZVxuXHRsZXQgZWwgPSBzb3VyY2VcblxuXHRpZiBzZWwgaXNhIEVsZW1lbnRcblx0XHRyZXR1cm4gc2VsXG5cblx0aWYgdHlwZW9mIHNlbCA9PSAnc3RyaW5nJ1xuXHRcdGlmIHNlbCA9PSAndGhpcycgb3Igc2VsID09ICcnXG5cdFx0XHRyZXR1cm4gZWxcblx0XHRlbGlmIHNlbCA9PSAndXAnXG5cdFx0XHRyZXR1cm4gZWwucGFyZW50Tm9kZVxuXHRcdGVsaWYgc2VsID09ICdvcCdcblx0XHRcdHJldHVybiBlbC5vZmZzZXRQYXJlbnRcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZWwuY2xvc2VzdChzZWwpIG9yIGVsLnF1ZXJ5U2VsZWN0b3Ioc2VsKSBvciBnbG9iYWwuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWwpXG5cblx0cmV0dXJuIG51bGxcblxuZXhwb3J0IGRlZiBwYXJzZURpbWVuc2lvbiB2YWxcblx0aWYgdHlwZW9mIHZhbCA9PSAnc3RyaW5nJ1xuXHRcdGxldCBbbSxudW0sdW5pdF0gPSB2YWwubWF0Y2goL14oWy0rXT9bXFxkXFwuXSspKCV8XFx3KykkLylcblx0XHRyZXR1cm4gW3BhcnNlRmxvYXQobnVtKSx1bml0XVxuXHRlbGlmIHR5cGVvZiB2YWwgPT0gJ251bWJlcidcblx0XHRyZXR1cm4gW3ZhbF1cblxuZXhwb3J0IGRlZiByb3VuZCB2YWwsc3RlcCA9IDFcblx0bGV0IGludiA9IDEuMCAvIHN0ZXBcblx0TWF0aC5yb3VuZCh2YWwgKiBpbnYpIC8gaW52XG5cbmV4cG9ydCBkZWYgY2xhbXAgdmFsLG1pbixtYXhcblx0aWYgbWluID4gbWF4XG5cdFx0TWF0aC5tYXgobWF4LE1hdGgubWluKG1pbix2YWwpKVxuXHRlbHNlXG5cdFx0TWF0aC5taW4obWF4LE1hdGgubWF4KG1pbix2YWwpKVxuXG5leHBvcnQgZGVmIGNyZWF0ZVNjYWxlIGEwLGExLGIwcixiMXIscyA9IDAuMVxuXHRsZXQgW2IwLGIwdV0gPSBwYXJzZURpbWVuc2lvbihiMHIpXG5cdGxldCBbYjEsYjF1XSA9IHBhcnNlRGltZW5zaW9uKGIxcilcblx0bGV0IFtzdixzdV0gPSBwYXJzZURpbWVuc2lvbihzKVxuXG5cdGIwID0gKGExIC0gYTApICogKGIwIC8gMTAwKSBpZiBiMHUgPT0gJyUnXG5cdGIxID0gKGExIC0gYTApICogKGIxIC8gMTAwKSBpZiBiMXUgPT0gJyUnXG5cblx0c3YgPSAoYjEgLSBiMCkgKiAoc3YgLyAxMDApIGlmIHN1ID09ICclJ1xuXG5cdHJldHVybiBkbyh2YWx1ZSxmaXQpXG5cdFx0bGV0IHBjdCA9ICh2YWx1ZSAtIGEwKSAvIChhMSAtIGEwKVxuXHRcdGxldCB2YWwgPSBiMCArIChiMSAtIGIwKSAqIHBjdFxuXHRcdHZhbCA9IHJvdW5kKHZhbCxzdikgaWYgc1xuXHRcdHZhbCA9IGNsYW1wKHZhbCxiMCxiMSkgaWYgZml0XG5cdFx0cmV0dXJuIHZhbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0EsTUFBTSxDQUFPLE1BQUEsU0FBUyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEVBQUE7Q0FFakMsR0FBRyxDQUFDLElBQUksRUFBQTtFQUNILElBQUEsR0FBRyxHQUFHLFVBQU0sQ0FB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","css":""}