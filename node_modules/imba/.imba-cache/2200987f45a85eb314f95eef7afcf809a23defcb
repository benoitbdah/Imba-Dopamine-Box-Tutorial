{"id":"dm","warnings":[],"errors":[],"js":"import {__init__$, register$} from 'imba/runtime';\nimport {use_events as imba_use_events, use_events_mouse as imba_use_events_mouse, use_dom_bind as imba_use_dom_bind, Component as imba_Component, defineTag as imba_defineTag, createComponent as imba_createComponent, createElement as imba_createElement, createSVGElement as imba_createSVGElement} from 'imba';\n(imba_use_events(),imba_use_events_mouse(),imba_use_dom_bind());\nconst $beforeReconcile$ = Symbol.for('#beforeReconcile'), $$up$ = Symbol.for('##up'), $placeChild$ = Symbol.for('#placeChild'), $afterVisit$ = Symbol.for('#afterVisit'), $afterReconcile$ = Symbol.for('#afterReconcile');\nvar $4 = Symbol(), $7 = Symbol(), $10 = Symbol(), $11 = Symbol(), $14 = Symbol(), $17 = Symbol(), $19 = Symbol(), $22 = Symbol(), $23 = Symbol(), $25 = Symbol(), $26 = Symbol(), $28 = Symbol(), $31 = Symbol(), $33 = Symbol(), $36 = Symbol(), $37 = Symbol();\n\n/*body*/\nimport {Habit} from \"./habit\";\nimport {icons} from \"./icons\";\nimport {persistData} from './persist';\n\nlet c$0 = Symbol();\nclass HabitItemComponent extends imba_Component {\n\t[__init__$]($$ = null,deep = true,fields = true){\n\t\tvar $0;\n\t\tsuper[__init__$](...arguments);\n\t\tthis.habit = $$ ? $$.habit : undefined;\n\t\tthis.editing = ($$ && ($0 = $$.editing) !== undefined) ? ($0) : false;\n\t\t\n\t}\n\tonInput(e){\n\t\tlet icon = Object.entries(icons).filter(function(i) { return i[1].title === e.target.value; });\n\t\tif (icon[0]) { return this.habit.name = icon[0][0] };\n\t}\n\t\n\tedit(){\n\t\tthis.editing = !(this.editing);\n\t\treturn this.emit(\"persist\");\n\t}\n\t\n\trender(){\n\t\tvar self = this, $27, $5, $1, $2, $3, $6 = this._ns_ || '', $8, $9, $12, $13, $15, $16, $18, $20, $21, $24, $29, $30, $32, $34, $35;\n\t\t$1=this;\n\t\t$1[$beforeReconcile$]();\n\t\t($2=$3=1,$1[$4] === 1) || ($2=$3=0,$1[$4]=1);\n\t\t$5 = null;\n\t\tif (this.editing) {\n\t\t\t($8=$9=1,$5=$1[$7]) || ($8=$9=0,$1[$7]=$5=imba_createElement('div',null,`item ${$6}`,null));\n\t\t\t$8||($5[$$up$]=$1);\n\t\t\t($12=(this.habit.done||undefined),$12===$5[$11]||($9|=2,$5[$11]=$12));\n\t\t\t$8 || ($5.on$(`click`,{shift: true,$_: [function(e,$$) {\n\t\t\t\treturn self.edit(e);\n\t\t\t}]},this));\n\t\t\t($9&2 && $5.flag$(`item ${$6}`+' '+($5[$11] ? `done` : '')));\n\t\t\t($15=$16=1,$13=$5[$14]) || ($15=$16=0,$5[$14]=$13=imba_createElement('input',$5,`${$6}`,null));\n\t\t\t($18=icons[this.habit.name]?.title,$18===$5[$17] || ($13.richValue=$5[$17]=$18));\n\t\t\t$15 || ($13.on$(`input`,{$_: [function(e,$$) {\n\t\t\t\treturn self.onInput(e);\n\t\t\t}]},this));\n\t\t\t;\n\t\t} else {\n\t\t\t($20=$21=1,$5=$1[$19]) || ($20=$21=0,$1[$19]=$5=imba_createElement('button',null,`item ${$6}`,null));\n\t\t\t$20||($5[$$up$]=$1);\n\t\t\t($24=(this.habit.done||undefined),$24===$5[$23]||($21|=2,$5[$23]=$24));\n\t\t\t($24=!(icons[this.habit.name]),$24===$5[$25] || ($5.disabled=$5[$25]=$24));\n\t\t\t$24=$5[$26] || ($5[$26]=$5.bind$('data',[null,'done']));\n\t\t\t$24[0]=this.habit;\n\t\t\t$20 || ($5.on$(`click`,{$_: [function(e,$$) {\n\t\t\t\treturn self.emit(\"toggleHabit\",self.habit);\n\t\t\t}]},this));\n\t\t\t$20 || ($5.on$(`click`,{alt: true,$_: [function(e,$$) {\n\t\t\t\treturn self.emit(\"deleteItem\",self.habit);\n\t\t\t}]},this));\n\t\t\t$20 || ($5.on$(`click`,{shift: true,$_: [function(e,$$) {\n\t\t\t\treturn self.edit(e);\n\t\t\t}]},this));\n\t\t\t($21&2 && $5.flag$(`item ${$6}`+' '+($5[$23] ? `done` : '')));\n\t\t\t$27 = null;\n\t\t\tif (icons[this.habit.name]) {\n\t\t\t\t($29=$30=1,$27=$5[$28]) || ($29=$30=0,$5[$28]=$27=imba_createSVGElement('svg',null,`${$6}`,null));\n\t\t\t\t$29||($27[$$up$]=$5);\n\t\t\t\t($32=icons[this.habit.name]?.svg,$32===$27[$31] || ($27.set$('src',$27[$31]=$32)));\n\t\t\t\t;\n\t\t\t} else {\n\t\t\t\t($34=$35=1,$27=$5[$33]) || ($34=$35=0,$5[$33]=$27=imba_createElement('span',null,`${$6}`,\"Choose an habit\"));\n\t\t\t\t$34||($27[$$up$]=$5);\n\t\t\t\t\n\t\t\t};\n\t\t\t($5[$36] = $5[$placeChild$]($27,0,$5[$36]));\n\t\t\t$20 || !$5.setup || $5.setup($21);\n\t\t\t$5[$afterVisit$]($21);\n\t\t\t\n\t\t};\n\t\t($1[$37] = $1[$placeChild$]($5,0,$1[$37]));\n\t\t$1[$afterReconcile$]($3);\n\t\treturn $1;\n\t}\n\tstatic {\n\t\tregister$(this,c$0,'habit-item',2);\n\t\timba_defineTag('habit-item',this,{cssns: 'dm_af',cssid: 'dm-af'});\n\t}\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFiaXQtaXRlbS5pbWJhIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaGFiaXQtaXRlbS5pbWJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SGFiaXR9IGZyb20gXCIuL2hhYml0XCJcbmltcG9ydCB7aWNvbnN9IGZyb20gXCIuL2ljb25zXCJcbmltcG9ydCB7cGVyc2lzdERhdGF9IGZyb20gJy4vcGVyc2lzdCdcblxudGFnIGhhYml0LWl0ZW1cblx0cHJvcCBoYWJpdFxuXHRwcm9wIGVkaXRpbmcgPSBmYWxzZVxuXG5cdGRlZiBvbklucHV0IGVcblx0XHRsZXQgaWNvbiA9IE9iamVjdC5lbnRyaWVzKGljb25zKS5maWx0ZXIoZG8oaSkgaVsxXS50aXRsZSA9PT0gZS50YXJnZXQudmFsdWUpXG5cdFx0c2VsZi5oYWJpdC5uYW1lID0gaWNvblswXVswXSBpZiBpY29uWzBdXG5cblx0ZGVmIGVkaXRcblx0XHRzZWxmLmVkaXRpbmc9IXNlbGYuZWRpdGluZ1xuXHRcdGVtaXQgXCJwZXJzaXN0XCJcblxuXHRjc3MgXG5cdFx0aW5wdXRcblx0XHRcdHc6MTAwJSBjOmNvb2w1IHRhOmNlbnRlciByZDpzbVxuXHRcdC5pdGVtIFxuXHRcdFx0dHdlZW46YWxsIDMwMG1zIGVhc2Vcblx0XHRcdGM6Y29vbDUgZnc6NTAwIGZzOnhzIHJkOm1kIHA6NXB4XG5cdFx0XHRzOjcwcHggQHhzOjkwcHggYmdjOmNvb2xlcjJcblx0XHRcdGQ6dmZsZXggZzo1cHggamE6Y2VudGVyXG5cdFx0XHQmLmRvbmUgYmdjOmVtZXJhbGQ1IGM6d2hpdGVcblxuXHRcdC51cGRhdGVzXG5cdFx0XHRkOmZsZXggamM6c3BhY2UtYmV0d2VlblxuXHRcdFx0LmVkaXQsIC5kZWxldGVcblx0XHRcdFx0ZnM6eHhzIGM6Y29vbGVyNCBAaG92ZXI6Ymx1ZTUgYmdjOnRyYW5zcGFyZW50XG5cblx0PHNlbGY+XG5cdFx0aWYgZWRpdGluZ1xuXHRcdFx0PGRpdiBcblx0XHRcdFx0Lml0ZW0gLmRvbmU9c2VsZi5oYWJpdC5kb25lIFxuXHRcdFx0XHRAY2xpY2suc2hpZnQ9ZWRpdFxuXHRcdFx0XHQ+XG5cdFx0XHRcdDxpbnB1dCBcblx0XHRcdFx0XHR2YWx1ZT1pY29uc1tzZWxmLmhhYml0Lm5hbWVdLi50aXRsZVxuXHRcdFx0XHRcdEBpbnB1dD1vbklucHV0XG5cdFx0XHRcdFx0PlxuXHRcdGVsc2Vcblx0XHRcdDxidXR0b24gXG5cdFx0XHRcdC5pdGVtIFxuXHRcdFx0XHQuZG9uZT1oYWJpdC5kb25lIFxuXHRcdFx0XHRkaXNhYmxlZD0haWNvbnNbc2VsZi5oYWJpdC5uYW1lXVxuXHRcdFx0XHRiaW5kPWhhYml0LmRvbmVcblx0XHRcdFx0QGNsaWNrPWVtaXQoXCJ0b2dnbGVIYWJpdFwiLCBzZWxmLmhhYml0KVxuXHRcdFx0XHRAY2xpY2suYWx0PWVtaXQoXCJkZWxldGVJdGVtXCIsIGhhYml0KVxuXHRcdFx0XHRAY2xpY2suc2hpZnQ9ZWRpdFxuXHRcdFx0XHQ+XG5cdFx0XHRcdGlmIGljb25zW2hhYml0Lm5hbWVdXG5cdFx0XHRcdFx0PHN2ZyBzcmM9aWNvbnNbaGFiaXQubmFtZV0uLnN2Zz5cblx0XHRcdFx0ZWxzZSBcblx0XHRcdFx0XHQ8c3Bhbj4gXCJDaG9vc2UgYW4gaGFiaXRcIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTSxFQUFFLEtBQUssT0FBTyxTQUFTO0FBQzdCLE1BQU0sRUFBRSxLQUFLLE9BQU8sU0FBUztBQUM3QixNQUFNLEVBQUUsV0FBVyxPQUFPLFdBQVc7OztBQUVyQyxLQUFHLENBQUMsa0JBQVUseUJBQUE7aURBSmQ7OztPQUtNLEtBQUssV0FBTCxLQUFLO09BQ0wsT0FBTyxtQkFBUCxPQUFPLENBQUEscUJBQUEsSUFBRyxLQUFLOztFQU5yQjtDQVFLLE9BQU8sQ0FBQyxDQUFDLENBQUE7RUFDUixJQUFBLElBQUksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFFLENBQUMsQ0FBQyxJQUFFLE9BQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUM7RUFDL0MsRUFBRSxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBdkMsU0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQVc7O0NBRXBDLElBQUksRUFBQTtFQUNQLElBQUksQ0FBQyxPQUFPLEdBQUMsRUFBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0VBQzFCLE9BQUEsS0FBQSxJQUFJLENBQUMsU0FBUyxDQUFBO0VBQUE7O1NBZGhCOzs7Ozs7RUFnQ0UsRUFBRSxFQUFDLEtBQUEsT0FBTyxFQUFBOzZDQUNSLGdEQUFHOztTQUNTLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSTswREFsQy9CO0lBbUNpQixPQUFBLEtBQUEsSUFBSSxHQUFBO0lBbkNyQjtpREFrQ1csTUFBSTtHQUdYLGtEQUFDLDJDQUFLO1FBQ0MsS0FBSyxDQUFBLElBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxtQkFBbkMsYUFBSyxDQUFDO2dEQXRDWDtJQXVDWSxPQUFBLEtBQUEsT0FBTyxHQUFBO0lBdkNuQjtHQXdDTTtHQUFBLE1BQ0E7bURBQ0YsbURBQU07O1NBRUEsS0FBQSxLQUFLLENBQUMsSUFBSTtRQUNQLEVBQUMsS0FBSyxDQUFBLElBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUEsbUJBQWhDLFdBQVEsQ0FBQzs7VUFDSixLQUFBLEtBQUs7K0NBOUNkO0lBK0NXLE9BQUEsS0FBQSxJQUFJLENBQUMsYUFBYSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUM7SUEvQzFDO3lEQUFBO0lBZ0RlLE9BQUEsS0FBQSxJQUFJLENBQUMsWUFBWSxDQUFFLEtBQUEsS0FBSyxDQUFDO0lBaER4QzsyREFBQTtJQWlEaUIsT0FBQSxLQUFBLElBQUksR0FBQTtJQWpEckI7a0RBNENLLE1BQUk7O0dBT0wsRUFBRSxFQUFDLEtBQUssQ0FBQSxLQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBQTtJQUNuQixrREFBQyw4Q0FBRzs7U0FBSyxLQUFLLENBQUEsS0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxvQkFBMUI7SUFBMkI7SUFBQSxNQUM1QjtzREFDSCx1Q0FBTSxpQkFBaUIsQ0FBbkI7OztJQUFtQjs7Ozs7R0FBQTs7OztFQXREN0I7OztnQkFJSTs7QUFrRHlCLENBQUE7QUFBQTsifQ==","css":".dm_af.item {\n--e_ad:0ms;--e_af:cubic-bezier(0.23, 1, 0.32, 1);--e_aw:0ms;\n--e_sd:var(--e_ad);--e_sf:var(--e_af);--e_sw:var(--e_aw);\n--e_od:var(--e_sd);--e_of:var(--e_sf);--e_ow:var(--e_sw);\n--e_cd:var(--e_sd);--e_cf:var(--e_sf);--e_cw:var(--e_sw);\n--e_bd:var(--e_sd);--e_bf:var(--e_sf);--e_bw:var(--e_sw);\n--e_td:var(--e_bd);--e_tf:var(--e_bf);--e_tw:var(--e_bw);\n--e_b:var(--e_bd) var(--e_bf) var(--e_bw);\n--e_c:var(--e_cd) var(--e_cf) var(--e_cw);\n--e_rest:any;\ntransition:\n\tall var(--e_ad) var(--e_af) var(--e_aw),\n\topacity var(--e_od) var(--e_of) var(--e_ow),\n\ttransform var(--e_td) var(--e_tf) var(--e_tw),\n\tcolor var(--e_c),background-color var(--e_c),border-color var(--e_c),fill var(--e_c),stroke var(--e_c), outline-color var(--e_c), box-shadow var(--e_c), filter var(--e_c),\n\tinset var(--e_b), width var(--e_b),height var(--e_b),max-width var(--e_b),max-height var(--e_b),min-width var(--e_b),min-height var(--e_b),border-width var(--e_b),outline-width var(--e_b),stroke-width var(--e_b),margin var(--e_b),padding var(--e_b),\n\tvar(--e_rest);\n}\n\n\ninput.dm_af:not(#_) {width: 100%;\ncolor: /*#*/cool5;\ntext-align: center;\nborder-radius: 3px;}\n.dm_af.item:not(#_) {--e_rest: all 300ms ease !important;\ncolor: /*#*/cool5;\nfont-weight: 500;\nfont-size: 12px;\nline-height: 18px;\n--u_lh: 18px;\nborder-radius: 4px;\npadding: 5px;\nwidth: 70px;\nheight: 70px;\nbackground-color: /*#*/cooler2;\ndisplay: flex;\nflex-direction: column;\ngap: 5px;\n--u_rg: 5px;\n--u_cg: 5px;\nplace-content: center;\nplace-items: center;}\n@media (min-width: 480px){\n.dm_af.item:not(#_) {width: 90px;\nheight: 90px;}\n}\n.dm_af.item.done:not(#_) {background-color: /*#*/emerald5;\ncolor: /*#*/white;}\n.dm_af.updates:not(#_) {display: flex;\njustify-content: space-between;}\n.dm_af.updates .dm_af.edit:not(#_),.dm_af.updates .dm_af.delete:not(#_) {font-size: 10px;\nline-height: 16px;\n--u_lh: 16px;\ncolor: /*#*/cooler4;\nbackground-color: hsla(0.00,0.00%,100.00%,0%);}\n.dm_af.updates .dm_af.edit:is(:hover,.\\@hover):not(#_),.dm_af.updates .dm_af.delete:is(:hover,.\\@hover):not(#_) {color: /*#*/blue5;}\n\nhabit-item { display:block; }"}